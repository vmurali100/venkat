<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title></title>
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="bootstrap.min.css">
</head>

<body>
    <div class="row">

        <div class="col-md-9">
            <table class="table">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Tele</th>
                        <th>Address</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Zip</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody id="myBody">

                </tbody>
            </table>
        </div>
        <div class="col-md-3">
            <form>
                <div class="form-group">
                    <label for="fname">First Name</label>
                    <input type="text" class="form-control" id="fname" placeholder="First Name">
                </div>
                <div class="form-group">
                    <label for="lname">Last Name</label>
                    <input type="text" class="form-control" id="lname" placeholder="Last Name">
                </div>
                <div class="form-group">
                    <label for="tel">Tel</label>
                    <input type="text" class="form-control" id="tel" placeholder="Tel">
                </div>
                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" class="form-control" id="address" placeholder="Address">
                </div>
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" class="form-control" id="city" placeholder="City">
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" class="form-control" id="state" placeholder="State">
                </div>

                <div class="form-group">
                    <label for="zip">Zip</label>
                    <input type="text" class="form-control" id="zip" placeholder="Zip">
                </div>
                <button type="button" class="btn btn-primary" id="update">Update</button>
            </form>

        </div>
        <script src="data.js"></script>
        <script>
            console.log(data)

            function displayFriend() {

                document.getElementById("myBody").innerHTML = "";
                for (i = 0; i < data.length; i++) {
                    var mytr = document.createElement("tr");
                    for (a in data[i]) {
                        var myTd = document.createElement("td");
                        myTd.innerHTML = data[i][a];
                        mytr.appendChild(myTd);
                    }

                    var EditTd = document.createElement("td");
                    mytr.appendChild(EditTd);
                    var EditButton = document.createElement("button");
                    EditTd.appendChild(EditButton);
                    EditButton.setAttribute("class", "btn btn-primary");
                    EditButton.innerHTML = "Edit";


                    var DeleteTd = document.createElement("td");
                    mytr.appendChild(DeleteTd);

                    var deleteButton = document.createElement("button");
                    DeleteTd.appendChild(deleteButton);
                    deleteButton.setAttribute("class", "btn btn-danger");
                    deleteButton.innerHTML = "Delete";


                    EditButton.setAttribute("onclick", "Edit(" + i + ")"); //Edit functio
                    deleteButton.setAttribute("onclick", "Delete(" + i + ")"); //Delte funtion

                    document.getElementById("myBody").appendChild(mytr);

                }
            }
            var gIndex;

            function Edit(i) {
                gIndex = i;

                var EditData = data[i];

                for (i in EditData) {
                    document.getElementById(i).value = EditData[i];
                }

            }

            document.getElementById("update").onclick = function() {

                var updatedData = {};

                for (u in data[0]) {

                    updatedData[u] = document.getElementById(u).value
                }
                data[gIndex] = updatedData;
                displayFriend(data);
                clearFields()
            }

            function Delete(i) {
                data.splice(i);
                displayFriend(data);
            }

            function clearFields() {

                for (i in data[0]) {
                    document.getElementById(i).value = "";
                }
            }


            displayFriend(data);
        </script>
    </div>

</body>

</html>
